(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7tAx":function(e,n,c){"use strict";c.r(n),c.d(n,"ZoneModule",(function(){return E}));var t=c("ofXK"),o=c("tyNb"),i=c("wHSu"),s=c("2Vo4"),a=c("itXk"),b=c("lJxs"),r=c("pLZG"),u=c("vkgz"),l=c("eIep"),f=c("SxV6"),p=c("fXoL"),g=c("bipQ"),h=c("/UgP"),d=c("suKW"),m=c("1/cB"),O=c("6NWb"),N=c("Ny7u");function I(e,n){if(1&e){const e=p.Pb();p.Ob(0,"span",17),p.Vb("click",(function(){p.lc(e);const c=n.$implicit;return p.Xb(4).sourceChosen(c)})),p.Ob(1,"a"),p.sc(2),p.Nb(),p.Nb()}if(2&e){const e=n.$implicit,c=p.Xb().ngIf;p.Ab("is-primary",c.name===e.name),p.xb(2),p.tc(e.name||e.category)}}function v(e,n){if(1&e&&(p.Ob(0,"div",15),p.qc(1,I,3,3,"span",16),p.Yb(2,"async"),p.Nb()),2&e){const e=p.Xb(3);p.xb(1),p.cc("ngForOf",p.Zb(2,1,e.zoneItemSources$))}}function k(e,n){if(1&e&&(p.Ob(0,"div",12),p.qc(1,v,3,3,"div",14),p.Yb(2,"async"),p.Nb()),2&e){const e=p.Xb(2);p.xb(1),p.cc("ngIf",p.Zb(2,1,e.chosenSource$))}}const x=function(e){return["/raider",e]};function S(e,n){if(1&e&&(p.Ob(0,"span",26),p.Ob(1,"a",27),p.sc(2),p.Nb(),p.sc(3," \xa0"),p.Nb()),2&e){const e=n.$implicit;p.xb(1),p.cc("routerLink",p.fc(2,x,e.raiderName)),p.xb(1),p.uc(" ",e.raiderName," ")}}function y(e,n){if(1&e&&(p.Ob(0,"div",15),p.qc(1,S,4,4,"span",25),p.Nb()),2&e){const e=n.ngIf;p.xb(1),p.cc("ngForOf",e)}}function $(e,n){1&e&&(p.Ob(0,"small"),p.sc(1,"No Rankings."),p.Nb())}const w=function(e){return["/item",e]};function z(e,n){if(1&e&&(p.Ob(0,"article",19),p.Ob(1,"div",20),p.Ob(2,"div",21),p.Ob(3,"a",22),p.sc(4),p.Nb(),p.sc(5,"\xa0\xa0 "),p.qc(6,y,2,1,"div",23),p.Yb(7,"async"),p.qc(8,$,2,0,"ng-template",null,24,p.rc),p.Nb(),p.Nb(),p.Nb()),2&e){const e=n.$implicit,c=p.kc(9),t=p.Xb(3);p.xb(3),p.cc("appWowheadTooltip",e)("routerLink",p.fc(7,w,e.itemId)),p.xb(1),p.tc(e.name),p.xb(2),p.cc("ngIf",p.Zb(7,5,t.getNextRecipient(e)))("ngIfElse",c)}}function F(e,n){if(1&e&&(p.Ob(0,"div",12),p.Ob(1,"p",5),p.Ob(2,"strong"),p.sc(3),p.Nb(),p.sc(4," Loot "),p.Nb(),p.qc(5,z,10,9,"article",18),p.Yb(6,"async"),p.Nb()),2&e){const e=n.ngIf,c=p.Xb(2);p.xb(3),p.tc(e.name),p.xb(2),p.cc("ngForOf",p.Zb(6,2,c.getSourceLoot(e)))}}function Z(e,n){if(1&e&&(p.Ob(0,"div"),p.Ob(1,"section",2),p.Ob(2,"div",3),p.Ob(3,"div",4),p.Ob(4,"h1",5),p.Ob(5,"a",6),p.sc(6),p.Jb(7,"fa-icon",7),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(8,"section",8),p.qc(9,k,3,3,"div",9),p.Yb(10,"async"),p.Ob(11,"div",10),p.Ob(12,"div",11),p.qc(13,F,7,4,"div",9),p.Yb(14,"async"),p.Nb(),p.Ob(15,"div",11),p.Ob(16,"div",12),p.Jb(17,"app-loot-feed",13),p.Yb(18,"async"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()),2&e){const e=n.ngIf,c=p.Xb();p.xb(5),p.cc("href","https://tbc.wowhead.com/zone="+e.zoneId,p.nc)("appWowheadTooltip",e),p.xb(1),p.uc("",e.name," "),p.xb(1),p.cc("icon",c.faExternalLinkAlt),p.xb(2),p.cc("ngIf",p.Zb(10,8,c.zoneItemSources$).length>1),p.xb(4),p.cc("ngIf",p.Zb(14,10,c.chosenSource$)),p.xb(4),p.cc("zone",e.zoneId)("source",p.Zb(18,12,c.chosenSource$))}}function j(e,n){1&e&&(p.Ob(0,"h1",5),p.sc(1,"Zone not found"),p.Nb())}const L=[{path:":slug",component:(()=>{class e{constructor(e,n,c,t,o){this.router=e,this.route=n,this.itemService=c,this.zoneService=t,this.lootListFacade=o,this.faExternalLinkAlt=i.h,this.zone$=this.route.params.pipe(Object(b.a)(e=>e.slug),Object(b.a)(e=>this.zoneService.getZone(e))),this.allSource={name:"All",category:"All"},this.zoneItemSources$=this.zone$.pipe(Object(r.a)(e=>!!e),Object(b.a)(e=>e.itemSources.length>1?[this.allSource,...e.itemSources]:[...e.itemSources])),this._chosenSource$=new s.a(this.allSource),this.chosenSource$=Object(a.a)([this.zoneItemSources$,this.route.queryParams]).pipe(Object(u.a)(([e,n])=>{if(n.boss){let c=e.find(e=>e.name===n.boss);c||"Zone Drop"!==n.boss||(c=e.find(e=>"Zone Drop"===e.category)),c||(c=this.allSource),this._chosenSource$.next(c)}}),Object(l.a)(()=>this._chosenSource$.asObservable()))}ngOnInit(){}sourceChosen(e){this._chosenSource$.next(e),this.router.navigate([],{relativeTo:this.route,queryParams:{boss:e.name||e.category},queryParamsHandling:"merge"})}getSourceLoot(e){return this.zone$.pipe(Object(b.a)(n=>this.itemService.getBySource(n,e)))}getNextRecipient(e){return this.lootListFacade.getRankedLootGroups(e.name).pipe(Object(f.a)(),Object(b.a)(e=>e.length?e[0]:null),Object(r.a)(e=>null!==e),Object(b.a)(e=>e.rankings.length?e.rankings:null))}}return e.\u0275fac=function(n){return new(n||e)(p.Ib(o.b),p.Ib(o.a),p.Ib(g.a),p.Ib(h.a),p.Ib(d.a))},e.\u0275cmp=p.Cb({type:e,selectors:[["app-zone-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[1,"hero","is-small","is-black"],[1,"hero-body"],[1,"container"],[1,"title"],["title","Open Wowhead","target","_blank",3,"href","appWowheadTooltip"],[3,"icon"],[1,"section"],["class","box",4,"ngIf"],[1,"columns"],[1,"column"],[1,"box"],[3,"zone","source"],["class","tags",4,"ngIf"],[1,"tags"],["class","tag is-black is-medium",3,"is-primary","click",4,"ngFor","ngForOf"],[1,"tag","is-black","is-medium",3,"click"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"media-content"],[1,"content"],[3,"appWowheadTooltip","routerLink"],["class","tags",4,"ngIf","ngIfElse"],["noRankings",""],["class","tag is-black",4,"ngFor","ngForOf"],[1,"tag","is-black"],[3,"routerLink"]],template:function(e,n){if(1&e&&(p.qc(0,Z,19,14,"div",0),p.Yb(1,"async"),p.qc(2,j,2,0,"ng-template",null,1,p.rc)),2&e){const e=p.kc(3);p.cc("ngIf",p.Zb(1,2,n.zone$))("ngIfElse",e)}},directives:[t.l,m.a,O.a,N.a,t.k,o.c],pipes:[t.b],styles:[""],changeDetection:0}),e})()}];let q=(()=>{class e{}return e.\u0275mod=p.Gb({type:e}),e.\u0275inj=p.Fb({factory:function(n){return new(n||e)},imports:[[o.d.forChild(L)],o.d]}),e})();var X=c("nEHF"),W=c("ZOsW"),Y=c("3Pt+");let E=(()=>{class e{}return e.\u0275mod=p.Gb({type:e}),e.\u0275inj=p.Fb({factory:function(n){return new(n||e)},imports:[[t.c,Y.f,Y.k,O.b,W.b,q,X.a]]}),e})()}}]);